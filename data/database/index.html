
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Automated trading framework using DL tools">
      
      
        <meta name="author" content="Josep Oriol Ayats">
      
      
        <link rel="canonical" href="https://joseporiolayats.github.io/torchtrader/data/database/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Database - Torch Trader</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#database" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Torch Trader" class="md-header__button md-logo" aria-label="Torch Trader" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Torch Trader
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Database
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/joseporiolayats/torchtrader" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    joseporiolayats/torchtrader
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Torch Trader" class="md-nav__button md-logo" aria-label="Torch Trader" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Torch Trader
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/joseporiolayats/torchtrader" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    joseporiolayats/torchtrader
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../definition/" class="md-nav__link">
        Definition
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Project Guidelines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Project Guidelines" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Project Guidelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/proposal/" class="md-nav__link">
        Proposal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/design_detailed/" class="md-nav__link">
        Detailed Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/plan/" class="md-nav__link">
        Project Plan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/user_docs/" class="md-nav__link">
        User Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/dev_docs/" class="md-nav__link">
        Developer Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/support/" class="md-nav__link">
        Maintenance and Support
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Application
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Application
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../app/api/" class="md-nav__link">
        API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../app/schemas/" class="md-nav__link">
        Schemas
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../torchtrader/operations/" class="md-nav__link">
        Operations
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Database
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#torchtrader.data.database" class="md-nav__link">
    torchtrader.data.database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase" class="md-nav__link">
    TorchtraderDatabase
  </a>
  
    <nav class="md-nav" aria-label="TorchtraderDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.add_data" class="md-nav__link">
    add_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.add_single_datapoint" class="md-nav__link">
    add_single_datapoint()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.backup_database" class="md-nav__link">
    backup_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.check_and_create_db" class="md-nav__link">
    check_and_create_db()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.close_session" class="md-nav__link">
    close_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.connect_database" class="md-nav__link">
    connect_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.create_database" class="md-nav__link">
    create_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.create_table" class="md-nav__link">
    create_table()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.execute_sql" class="md-nav__link">
    execute_sql()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.query_data" class="md-nav__link">
    query_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.remove_data_in_range" class="md-nav__link">
    remove_data_in_range()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.remove_table" class="md-nav__link">
    remove_table()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.restore_database" class="md-nav__link">
    restore_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.test_db" class="md-nav__link">
    test_db()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.update_data" class="md-nav__link">
    update_data()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../config/config/" class="md-nav__link">
        Configurations
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Technical Analysis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Technical Analysis" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Technical Analysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ta/ma/" class="md-nav__link">
        MA - Moving Average
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ta/rsi/" class="md-nav__link">
        RSI - Relative Strength Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ta/ichimoku/" class="md-nav__link">
        Ichimoku Cloud
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../torchtrader/data/" class="md-nav__link">
        Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../torchtrader/eval/" class="md-nav__link">
        Eval
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../torchtrader/models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../torchtrader/training/" class="md-nav__link">
        Training
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../torchtrader/prediction/" class="md-nav__link">
        Inference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../torchtrader/utils/" class="md-nav__link">
        Utilities
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#torchtrader.data.database" class="md-nav__link">
    torchtrader.data.database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase" class="md-nav__link">
    TorchtraderDatabase
  </a>
  
    <nav class="md-nav" aria-label="TorchtraderDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.add_data" class="md-nav__link">
    add_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.add_single_datapoint" class="md-nav__link">
    add_single_datapoint()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.backup_database" class="md-nav__link">
    backup_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.check_and_create_db" class="md-nav__link">
    check_and_create_db()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.close_session" class="md-nav__link">
    close_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.connect_database" class="md-nav__link">
    connect_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.create_database" class="md-nav__link">
    create_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.create_table" class="md-nav__link">
    create_table()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.execute_sql" class="md-nav__link">
    execute_sql()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.query_data" class="md-nav__link">
    query_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.remove_data_in_range" class="md-nav__link">
    remove_data_in_range()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.remove_table" class="md-nav__link">
    remove_table()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.restore_database" class="md-nav__link">
    restore_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.test_db" class="md-nav__link">
    test_db()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torchtrader.data.database.TorchtraderDatabase.update_data" class="md-nav__link">
    update_data()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="database">Database</h1>
<p>This class provides a convenient interface for managing a database to store asset price data from different exchanges and timeframes. It utilizes SQLAlchemy as the ORM and SQLite as the default database. Users can create tables for specific exchanges and timeframes, add or update data, query data, and perform basic database management tasks such as backing up and restoring the database.</p>
<p>Here's a high-level overview of the <code>TorchtraderDatabase</code> class:</p>
<pre class="mermaid"><code>classDiagram
    class TorchtraderDatabase{
        +create_table(exchange, timeframe, is_crypto) : Base
        +create_database(database_uri) : None
        +check_and_create_db(database_uri) : None
        +add_data(data, table) : None
        +add_single_datapoint(table, data, inserted_ids) : None
        +test_db() : None
        +remove_table(table) : None
        +remove_data_in_range(table, start_datetime, end_datetime) : None
        +connect_database(database_uri) : None
        +close_session() : None
        +execute_sql(sql) : None
        +backup_database(backup_path) : None
        +restore_database(backup_path) : None
        +query_data(table, filters) : List[Base]
        +update_data(table, filters, new_values) : None
    }</code></pre>
<p>The <code>TorchtraderDatabase</code> class offers the following methods:</p>
<ul>
<li><code>create_table</code>: Creates a new table for the specified exchange and timeframe.</li>
<li><code>create_database</code>: Creates a new SQLite database at the specified URI.</li>
<li><code>check_and_create_db</code>: Checks if the database exists and creates it if necessary.</li>
<li><code>add_data</code>: Adds new data to the specified table. It can handle both single datapoints and bulk data.</li>
<li><code>add_single_datapoint</code>: Adds a single data entry to the specified table.</li>
<li><code>test_db</code>: Runs a series of tests on the database, including creating and removing test tables.</li>
<li><code>remove_table</code>: Removes the specified table from the database.</li>
<li><code>remove_data_in_range</code>: Removes data from the specified table within a given datetime range.</li>
<li><code>connect_database</code>: Connects to the specified database or creates it if it doesn't exist.</li>
<li><code>close_session</code>: Closes the current database session.</li>
<li><code>execute_sql</code>: Executes the specified SQL command.</li>
<li><code>backup_database</code>: Creates a backup of the database at the specified path.</li>
<li><code>restore_database</code>: Restores the database from the specified backup path.</li>
<li><code>query_data</code>: Queries data from the specified table with optional filters.</li>
<li><code>update_data</code>: Updates data in the specified table with the given filters and new values.</li>
</ul>
<p>To use this class, you have to create an instance of <code>TorchtraderDatabase</code> and call the desired
methods. For example, to create a new database and add some data to a table:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">torchtrader.database</span> <span class="kn">import</span> <span class="n">TorchtraderDatabase</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">db</span> <span class="o">=</span> <span class="n">TorchtraderDatabase</span><span class="p">()</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">db</span><span class="o">.</span><span class="n">connect_database</span><span class="p">()</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">binance_table</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="s2">&quot;binance&quot;</span><span class="p">,</span> <span class="s2">&quot;1h&quot;</span><span class="p">,</span> <span class="n">is_crypto</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="s2">&quot;date_time&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="s2">&quot;asset_id&quot;</span><span class="p">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="s2">&quot;base_currency&quot;</span><span class="p">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="s2">&quot;quote_currency&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span><span class="p">,</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">60000</span><span class="p">,</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="s2">&quot;exchange&quot;</span><span class="p">:</span> <span class="s2">&quot;binance&quot;</span><span class="p">,</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="s2">&quot;timeframe&quot;</span><span class="p">:</span> <span class="s2">&quot;1h&quot;</span><span class="p">,</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="p">}</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="n">db</span><span class="o">.</span><span class="n">add_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">binance_table</span><span class="p">)</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="n">db</span><span class="o">.</span><span class="n">close_session</span><span class="p">()</span>
</span></code></pre></div>
<p>In this example, we create a new <code>TorchtraderDatabase</code> instance, connect to the database, create a table for Binance 1-hour data, add a data entry to the table, and then close the session</p>


<div class="doc doc-object doc-module">


<a id="torchtrader.data.database"></a>
  <div class="doc doc-contents first">
  
      <p>This script provides a module for managing a SQLite database using SQLAlchemy ORM.
The database is designed to store asset data from different exchanges and timeframes
for use in the Torchtrader application.</p>
<p>The main class, TorchtraderDatabase, is responsible for creating, connecting,
and managing the database. It also provides methods for adding, updating, querying,
and removing data from the tables.</p>
<p>The ExchangeBase class is a base class for creating exchange-specific tables that
inherit its attributes and methods.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="torchtrader.data.database.TorchtraderDatabase" class="doc doc-heading">
        <code>TorchtraderDatabase</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>TorchtraderDatabase is a class for managing the SQLite database.
It provides methods for creating, connecting, and managing the database
as well as adding, updating, querying, and removing data from the tables.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>database_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The URI of the database.</p></td>
        </tr>
        <tr>
          <td><code>db_session</code></td>
          <td>
                <code>Session</code>
          </td>
          <td><p>The database session object.</p></td>
        </tr>
        <tr>
          <td><code>db_engine</code></td>
          <td>
                <code>Engine</code>
          </td>
          <td><p>The database engine object.</p></td>
        </tr>
    </tbody>
  </table>

<details class="usage">
  <summary>Usage</summary>
  <p>database = TorchtraderDatabase()
database.connect_database()
database.test_db()
database.close_session()</p>
</details>


  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">database_uri</span><span class="o">=</span><span class="s1">&#39;sqlite:///torchtrader.db&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Initializes a new TorchtraderDatabase object.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>database_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The URI of the database. Default is "sqlite:///torchtrader.db".</p></td>
          <td>
                <code>&#39;sqlite:///torchtrader.db&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.add_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Adds data to the specified table.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Dict">Dict</span>[str, any], <span title="typing.Dict">Dict</span>[str, <span title="typing.Dict">Dict</span>[str, any]]]</code>
          </td>
          <td><p>The data to be added.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>table</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<span title="torchtrader.data.database.Base">Base</span>]</code>
          </td>
          <td><p>The table class where the data will be added.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>If the data is not a dictionary or a dictionary of dictionaries.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.add_single_datapoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_single_datapoint</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">inserted_ids</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Adds a single data point to the specified table.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>table</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<span title="torchtrader.data.database.Base">Base</span>]</code>
          </td>
          <td><p>The table class where the data will be added.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, any]</code>
          </td>
          <td><p>The data to be added.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>inserted_ids</code></td>
          <td>
                <code>List[int]</code>
          </td>
          <td><p>The list of inserted primary key ids.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>None</code>
          </td>
          <td><p>List[int]: The list of inserted primary key ids.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.backup_database" class="doc doc-heading">
<code class="highlight language-python"><span class="n">backup_database</span><span class="p">(</span><span class="n">backup_path</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Creates a backup of the database.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>backup</code></td>
          <td>
                <code>       backup_path (str</code>
          </td>
          <td><p>The path where the backup will be saved.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.check_and_create_db" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_and_create_db</span><span class="p">(</span><span class="n">database_uri</span><span class="o">=</span><span class="s1">&#39;sqlite:///torchtrader.db&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Checks if the specified database exists, and if not, creates it.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>database_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The URI of the database. Default is "sqlite:///torchtrader.db".</p></td>
          <td>
                <code>&#39;sqlite:///torchtrader.db&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.close_session" class="doc doc-heading">
<code class="highlight language-python"><span class="n">close_session</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Closes the current database session.</p>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.connect_database" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_database</span><span class="p">(</span><span class="n">database_uri</span><span class="o">=</span><span class="s1">&#39;sqlite:///torchtrader.db&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Connects to the specified database or creates it if it doesn't exist.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>database_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The URI of the database. Default is "sqlite:///torchtrader.db".</p></td>
          <td>
                <code>&#39;sqlite:///torchtrader.db&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.create_database" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_database</span><span class="p">(</span><span class="n">database_uri</span><span class="o">=</span><span class="s1">&#39;sqlite:///torchtrader.db&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Creates a new SQLite database.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>database_uri</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The URI of the database. Default is "sqlite:///torchtrader.db".</p></td>
          <td>
                <code>&#39;sqlite:///torchtrader.db&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.create_table" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_table</span><span class="p">(</span><span class="n">exchange</span><span class="p">,</span> <span class="n">timeframe</span><span class="p">,</span> <span class="n">is_crypto</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Creates a new table class for the specified exchange and timeframe.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>exchange</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The name of the exchange.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>timeframe</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The timeframe for the data.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>is_crypto</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether the asset is a cryptocurrency. Default is True.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Base</code></td>          <td>
                <code><span title="torchtrader.data.database.Base">Base</span></code>
          </td>
          <td><p>The newly created table class.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>AssertionError</code>
          </td>
          <td><p>If the specified timeframe is not in the list of allowed timeframes.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.execute_sql" class="doc doc-heading">
<code class="highlight language-python"><span class="n">execute_sql</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Executes the specified SQL command.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sql</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The SQL command to be executed.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.query_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">query_data</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Queries data from the specified table with optional filters.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>table</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<span title="torchtrader.data.database.Base">Base</span>]</code>
          </td>
          <td><p>The table class to query data from.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>filters</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, any]</code>
          </td>
          <td><p>A dictionary of filters to apply. Default is None.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>None</code>
          </td>
          <td><p>List[Base]: A list of rows matching the filters.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.remove_data_in_range" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_data_in_range</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">start_datetime</span><span class="p">,</span> <span class="n">end_datetime</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Removes data from the specified table within a given datetime range.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>table</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<span title="torchtrader.data.database.Base">Base</span>]</code>
          </td>
          <td><p>The table class where data will be removed.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>start_datetime</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span></code>
          </td>
          <td><p>The start datetime of the range.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>end_datetime</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span></code>
          </td>
          <td><p>The end datetime of the range.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.remove_table" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_table</span><span class="p">(</span><span class="n">table</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Removes the specified table from the database.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>table</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<span title="torchtrader.data.database.Base">Base</span>]</code>
          </td>
          <td><p>The table class to be removed.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.restore_database" class="doc doc-heading">
<code class="highlight language-python"><span class="n">restore_database</span><span class="p">(</span><span class="n">backup_path</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Restores the database from the specified backup.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>backup_path</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The path of the backup file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.test_db" class="doc doc-heading">
<code class="highlight language-python"><span class="n">test_db</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Tests the database by adding and removing sample data.</p>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="torchtrader.data.database.TorchtraderDatabase.update_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_data</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">filters</span><span class="p">,</span> <span class="n">new_values</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Updates data in the specified table with the given filters and new values.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>table</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<span title="torchtrader.data.database.Base">Base</span>]</code>
          </td>
          <td><p>The table class to update data in.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>filters</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, any]</code>
          </td>
          <td><p>A dictionary of filters to apply.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>new_values</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, any]</code>
          </td>
          <td><p>A dictionary of new values to update the data with.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../torchtrader/operations/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Operations" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Operations
            </div>
          </div>
        </a>
      
      
        
        <a href="../../config/config/" class="md-footer__link md-footer__link--next" aria-label="Next: Configurations" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Configurations
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../../extra/refresh_on_toggle_dark_light.js"></script>
      
    
    
  </body>
</html>